import{a as N,b as L,c as W,d as Le,e as Y,f as J,g as Ie,h as Z,i as Fe,j as X,k as ee,l as te,m as ze,n as je}from"./chunk-4RNPBPDC.js";import{$ as Ce,Aa as Me,Ba as $,D as M,Da as Q,E as z,Ea as G,G as j,H as p,Ha as H,Ia as Ge,Ja as C,K as d,Ka as k,La as Ne,O as T,R as v,T as Pe,W as Ee,X as ke,Y as i,Z as a,_ as g,a as m,aa as u,b as h,ba as _,c as b,ca as c,da as P,e as fe,f as De,fa as xe,g as O,ga as q,ha as B,i as he,ia as K,k as F,l as Te,m as R,r as D,ra as we,t as V,u as s,ua as E,v as _e,wa as Oe,xa as Ae,y as ve,z as ye,za as Re}from"./chunk-OJQS4K4K.js";function Ue(n,e=!1){let o=new Uint8Array(n).reduce((l,S)=>`${l}${String.fromCharCode(S)}`,""),r=btoa(o);return e?Je(r):r}function Je(n){return n.replaceAll(/\+/g,"-").replaceAll(/\//g,"_").replace(/=/g,"")}function Se(n){let e=new Uint32Array(n/2);return crypto.getRandomValues(e),Array.from(e,t=>`0${t.toString(16)}`.slice(-2)).join("")}async function Ve(n){let t=new TextEncoder().encode(n);return crypto.subtle.digest("SHA-256",t)}var ne=class extends Error{name=this.constructor.name;constructor(e="Access Token not Found!!!",t){super(e,t)}},oe=class extends Error{name=this.constructor.name;constructor(e,t){super(`State token '${e}' is not found or expired!!`,t)}},re=new V("key-value-storage");var be="oauth",Ze=32,Xe=54,et=10*60*1e3,tt=1e3*10,qe=new V("oauth-configuration");function Be(n){return _e([{provide:qe,useValue:n},f])}var f=class n{config=s(qe);storage=s(re);http=s(G);storageStateDataKey=`${be}-${this.config.name}-state-data`;storeRefreshTokenDataKey=`${be}-${this.config.name}-refresh-token-data`;storeAccessTokenDataKey=`${be}-${this.config.name}-access-token-data`;async fetchRefreshTokenData(){return this.storage.get(this.storeRefreshTokenDataKey)}async storeRefreshTokenData(e){return await this.storage.set(this.storeRefreshTokenDataKey,e),e}async removeRefreshTokenData(){return this.storage.remove(this.storeRefreshTokenDataKey)}async refreshAccessTokenData(){let e=await this.fetchRefreshTokenData();if(e){let t=await O(this.http.post(this.config.accessTokenUrl,{client_id:this.config.clientId,client_secret:this.config.clientSecret,grant_type:"refresh_token",refresh_token:e}).pipe(F(o=>(console.error(o?.error??o),De(null)))));if(t!==null)return await this.storeAccessTokenData(t)}return null}async getAccessTokenData(){let e=await this.fetchAccessTokenData();return e&&e.expiredAt>=Date.now()?e:this.refreshAccessTokenData()}accessTokenResource=Ae({loader:async()=>(await this.getAccessTokenData())?.access_token??null});accessToken=E(this.accessTokenResource.value,{equal:(e,t)=>typeof t>"u"||Object.is(e,t)});ready=E(()=>{let e=this.accessToken();return typeof e>"u"?void 0:e!==null});async fetchAccessTokenData(){return await this.storage.get(this.storeAccessTokenDataKey)}async storeAccessTokenData(e){let l=e,{refresh_token:t}=l,o=b(l,["refresh_token"]);t&&await this.storeRefreshTokenData(t);let r=h(m({},o),{expiredAt:Date.now()+e.expires_in*1e3-tt});return await this.storage.set(this.storeAccessTokenDataKey,r),this.accessTokenResource.set(r.access_token),r}async getAccessTokenHeaders(){let e=await this.getAccessTokenData();if(e?.access_token){let{token_type:t,access_token:o}=e;return{Authorization:`${t[0].toUpperCase()}${t.slice(1)} ${o}`}}throw new ne}async removeAccessTokenData(){await this.storage.remove(this.storeAccessTokenDataKey),this.accessTokenResource.set(null)}async fetchStateData(e){let t=await this.storage.get(this.storageStateDataKey)??{},o=Date.now(),r=Object.fromEntries(Object.entries(t).filter(([l,S])=>S.expiredAt>=o));return await this.storeStateDataRecord(r),t[e]??null}async storeStateData(e,t){let o=await this.storage.get(this.storageStateDataKey)??{},r=h(m({},t),{expiredAt:Date.now()+et});return o[e]=r,await this.storeStateDataRecord(o),r}async removeStateData(e){let t=await this.storage.get(this.storageStateDataKey)??{};return delete t[e],await this.storeStateDataRecord(t)}async clearStateDataRecord(){return await this.storage.remove(this.storageStateDataKey)}async storeStateDataRecord(e){return Object.keys(e).length===0?await this.clearStateDataRecord():await this.storage.set(this.storageStateDataKey,e)}async createStateData(e){let t=Se(Ze),o=Se(Xe),r=Ue(await Ve(o),!0);return await this.storeStateData(t,{codeVerifier:o,state:e}),{stateToken:t,codeChallenge:r}}async getAuthorizationCodeUrl(e,{state:t={},additionalParam:o={}}={}){if(this.config.authorizationCodeUrl){let r=new URL(this.config.authorizationCodeUrl),{stateToken:l,codeChallenge:S}=await this.createStateData(t);return r.searchParams.set("client_id",this.config.clientId),r.searchParams.set("redirect_uri",this.config.redirectUri),r.searchParams.set("response_type","code"),r.searchParams.set("scope",e.join(" ")),r.searchParams.set("code_challenge",S),r.searchParams.set("code_challenge_method","S256"),r.searchParams.set("state",l),Object.entries(o).forEach(([U,Ye])=>r.searchParams.set(U,Ye)),r}else return null}async exchangeAuthorizationCode(e,t){let o=await this.fetchStateData(t);if(o===null)throw new oe(t);return await this.storeAccessTokenData(await O(this.http.post(this.config.accessTokenUrl,{client_id:this.config.clientId,client_secret:this.config.clientSecret,code:e,code_verifier:o.codeVerifier,grant_type:"authorization_code",redirect_uri:this.config.redirectUri}))),await this.removeStateData(t),o.state}async clear(){await Promise.all([this.removeRefreshTokenData(),this.removeAccessTokenData(),this.storage.remove(this.storageStateDataKey)])}static \u0275fac=function(t){return new(t||n)};static \u0275prov=D({token:n,factory:n.\u0275fac})};var x=class n{http=s(G);oauthService=s(f);apiUrl="https://people.googleapis.com/v1";getHeaders(){return this.oauthService.getAccessTokenHeaders()}getContacts(e){return fe(this.getHeaders()).pipe(R(t=>this.http.get(`${this.apiUrl}/people/me/connections`,{headers:t,params:e})),F(t=>{throw new Error("Failed to fetch contacts: "+t.message)}))}createContact(e,t){return fe(this.getHeaders()).pipe(R(o=>this.http.post(`${this.apiUrl}/people:createContact`,e,{headers:o,params:t})),F(o=>{throw new Error("Failed to create contact: "+o.message)}))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})};function ot(n,e){if(n&1&&(i(0,"li"),c(1),a()),n&2){let t=e.$implicit,o=_();p(),xe(" ",o.getDisplayName(t)||"No name"," - ",o.getEmail(t)||"No email"," ")}}function rt(n,e){n&1&&(i(0,"p"),c(1,"No contacts found"),a())}function at(n,e){if(n&1&&(i(0,"p"),c(1),a()),n&2){let t=_();p(),P(t.error())}}var ae=class n{contactsService=s(x);oauthService=s(f);router=s(C);contacts=j([]);error=j(null);constructor(){Oe(()=>{console.log("Contacts signal updated:",this.contacts()),console.log("Error signal updated:",this.error())})}async ngOnInit(){console.log("ContactsListComponent: ngOnInit started");let e=await this.oauthService.getAccessTokenData();if(console.log("Access Token:",e),!e){console.log("No access token, redirecting to /login"),this.router.navigate(["/login"]);return}await this.loadContacts()}async loadContacts(){try{console.log("Loading contacts...");let e={personFields:"names,emailAddresses"},t=await O(this.contactsService.getContacts(e));console.log("API Response:",t),this.contacts.set([...t.connections||[]]),console.log("Contacts set:",this.contacts()),this.error.set(null)}catch(e){this.error.set(e.message||"Failed to load contacts"),console.error("Error loading contacts:",e)}}async signOut(){await this.oauthService.clear(),this.router.navigate(["/login"])}getDisplayName(e){let t=e.names?.[0]?.displayName;return console.log("getDisplayName for contact:",e,"result:",t),t||""}getEmail(e){let t=e.emailAddresses?.[0]?.value;return console.log("getEmail for contact:",e,"result:",t),t||""}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=d({type:n,selectors:[["app-gl-contacts-list"]],decls:8,vars:3,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],["routerLink","create"]],template:function(t,o){t&1&&(i(0,"h2"),c(1,"Contacts List"),a(),i(2,"ul"),T(3,ot,2,2,"li",0),a(),T(4,rt,2,0,"p",1),i(5,"button",2),c(6,"Create Contact"),a(),T(7,at,2,1,"p",1)),t&2&&(p(3),v("ngForOf",o.contacts()),p(),v("ngIf",o.contacts().length===0&&!o.error()),p(3),v("ngIf",o.error()))},dependencies:[Q,Me,$,ee,k],styles:["h2[_ngcontent-%COMP%]{font-size:1.5rem;color:#333;margin-bottom:1rem}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}li[_ngcontent-%COMP%]{padding:.5rem 0;border-bottom:1px solid #ddd;font-size:1rem}li[_ngcontent-%COMP%]:last-child{border-bottom:none}p[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-top:1rem}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:.5rem 1rem;font-size:1rem;cursor:pointer;border-radius:4px;margin-top:1rem}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #007bff80}"],changeDetection:0})};function it(n,e){if(n&1&&(i(0,"p"),c(1),a()),n&2){let t=_();p(),P(t.error())}}var ie=class n{contactsService=s(x);router=s(C);newContact={givenName:"",familyName:"",email:""};error=j(null);async createContact(){try{console.log("Creating contact...");let e={names:[{givenName:this.newContact.givenName,familyName:this.newContact.familyName}],emailAddresses:[{value:this.newContact.email}]},t=await O(this.contactsService.createContact(e));console.log("Contact created:",t),this.newContact={givenName:"",familyName:"",email:""},this.error.set(null),this.router.navigate(["/google/contacts"])}catch(e){this.error.set(e.message||"Failed to create contact"),console.error("Error creating contact:",e)}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=d({type:n,selectors:[["app-gl-create-contacts-form"]],decls:10,vars:4,consts:[["placeholder","Given Name",3,"ngModelChange","ngModel"],["placeholder","Family Name",3,"ngModelChange","ngModel"],["placeholder","Email",3,"ngModelChange","ngModel"],[3,"click"],["routerLink","../"],[4,"ngIf"]],template:function(t,o){t&1&&(i(0,"h3"),c(1,"Create New Contact"),a(),i(2,"input",0),K("ngModelChange",function(l){return B(o.newContact.givenName,l)||(o.newContact.givenName=l),l}),a(),i(3,"input",1),K("ngModelChange",function(l){return B(o.newContact.familyName,l)||(o.newContact.familyName=l),l}),a(),i(4,"input",2),K("ngModelChange",function(l){return B(o.newContact.email,l)||(o.newContact.email=l),l}),a(),i(5,"button",3),u("click",function(){return o.createContact()}),c(6,"Add Contact"),a(),i(7,"button",4),c(8,"Back to List"),a(),T(9,it,2,1,"p",5)),t&2&&(p(2),q("ngModel",o.newContact.givenName),p(),q("ngModel",o.newContact.familyName),p(),q("ngModel",o.newContact.email),p(5),v("ngIf",o.error()))},dependencies:[Q,$,ee,N,L,Le,k],encapsulation:2,changeDetection:0})};var se=class n{data=z();formSubmit=M();formCancel=M();fb=s(X).nonNullable;formGroup=E(()=>{let e=this.fb,t=this.data();return this.fb.group({summary:e.control(t?.summary??"",{updateOn:"blur"}),description:e.control(t?.description??"",{updateOn:"blur"}),start:e.group({dateTime:e.control(t?.start?.dateTime??"",{updateOn:"blur"}),timeZone:e.control(Intl.DateTimeFormat().resolvedOptions().timeZone,{updateOn:"blur"})}),end:e.group({dateTime:e.control(t?.end?.dateTime??"",{updateOn:"blur"}),timeZone:e.control(Intl.DateTimeFormat().resolvedOptions().timeZone,{updateOn:"blur"})})})});normalizaDateTimeLocal(e){let[t,o]=e.split("T",2),r=o.split(":");for(;r.length<3;)r.push("00");return`${t}T${r.join(":")}`}onSubmit(){let e=this.formGroup().getRawValue();e.start.dateTime=this.normalizaDateTimeLocal(e.start.dateTime),e.end.dateTime=this.normalizaDateTimeLocal(e.end.dateTime),this.formSubmit.emit(e)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=d({type:n,selectors:[["app-gl-event-create-form"]],inputs:{data:[1,"data"]},outputs:{formSubmit:"formSubmit",formCancel:"formCancel"},decls:26,vars:1,consts:[["ngNavtiveValidate","",3,"ngSubmit","formGroup"],["type","text","formControlName","summary","required",""],["type","text","formControlName","description"],["formGroupName","start"],["type","datetime-local","formControlName","dateTime","required",""],["formGroupName","end"],["type","submit"],["type","button"]],template:function(t,o){t&1&&(i(0,"form",0),u("ngSubmit",function(){return o.onSubmit()}),i(1,"label")(2,"b"),c(3,"Summary"),a(),g(4,"input",1),a(),g(5,"br"),i(6,"label")(7,"b"),c(8,"Description"),a(),g(9,"input",2),a(),g(10,"br"),i(11,"label",3)(12,"b"),c(13,"Start"),a(),g(14,"input",4),a(),g(15,"br"),i(16,"label",5)(17,"b"),c(18,"End"),a(),g(19,"input",4),a(),g(20,"br"),i(21,"div")(22,"button",6),c(23,"Create"),a(),i(24,"button",7),c(25,"Cancel"),a()()()),t&2&&v("formGroup",o.formGroup())},dependencies:[te,Y,N,L,W,Fe,J,Z,Ie],styles:["form[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:1.5rem;border:1px solid #ddd;border-radius:8px;background-color:#f9f9f9;box-shadow:0 2px 4px #0000001a}label[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}b[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;margin-bottom:.5rem;color:#333}input[type=text][_ngcontent-%COMP%], input[type=datetime-local][_ngcontent-%COMP%]{padding:.5rem;font-size:1rem;border:1px solid #ccc;border-radius:4px;width:100%;box-sizing:border-box}div[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:1.5rem}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:.5rem 1rem;font-size:1rem;cursor:pointer;border-radius:4px}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #007bff80}button[type=button][_ngcontent-%COMP%]{background-color:#dc3545}button[type=button][_ngcontent-%COMP%]:hover{background-color:#a71d2a}"],changeDetection:0})};var st={eventTypes:["default","fromGmail"]},$e="https://www.googleapis.com/calendar/v3/calendars/primary/events",w=class n{http=s(G);oauthService=s(f);getAll(e){return je({request:e,loader:({request:t})=>he(()=>this.oauthService.getAccessTokenHeaders()).pipe(R(o=>this.http.get($e,{headers:m({},o),params:m(h(m({},st),{timeMin:(()=>{let r=new Date;return r.setFullYear(r.getFullYear()-1),r.toISOString()})()}),t)})))})}create(e){return he(()=>this.oauthService.getAccessTokenHeaders()).pipe(R(t=>this.http.post($e,e,{headers:m({},t)})))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})};var ce=class n{service=s(w);location=s(Re);onFormSubmit(e){this.service.create(e).pipe(Te(1)).subscribe(()=>{this.location.back()})}onFormCancel(){this.location.back()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=d({type:n,selectors:[["app-gl-event-create-page"]],decls:1,vars:0,consts:[[3,"formSubmit","formCancel"]],template:function(t,o){t&1&&(i(0,"app-gl-event-create-form",0),u("formSubmit",function(l){return o.onFormSubmit(l)})("formCancel",function(){return o.onFormCancel()}),a())},dependencies:[se],encapsulation:2,changeDetection:0})};function ct(n){return typeof n.date<"u"}function le(n){return typeof n.dateTime<"u"}function lt(n){if(le(n)){let e=n,{dateTime:o}=e,r=b(e,["dateTime"]);return h(m({},r),{dateTime:new Date(o)})}else{let t=n,{date:o}=t,r=b(t,["date"]);return h(m({},r),{date:new Date(`${o}T00:00:00`)})}}function mt(n){let l=n,{start:e,end:t}=l,o=b(l,["start","end"]);function r(S,U){return typeof U>"u"?{}:{[S]:m({},lt(U))}}return m(m(m({},o),r("start",e)),r("end",t))}function He(n){return h(m({},n),{items:(n?.items||[]).map(mt)})}function Qe(n){let[e,t]=(le(n)?n.dateTime:n.date).toISOString().split("T");return{date:e,time:ct(n)?null:t}}function I(n){if(le(n)){let{dateTime:e}=n;return e.toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"})}else{let{date:e}=n;return e.toLocaleDateString(void 0,{dateStyle:"medium"})}}function pt(n){return(le(n)?n.dateTime:n.date).toLocaleTimeString(void 0,{timeStyle:"short"})}function We(n){let{start:e,end:t}=n;if(e&&t){let o=Qe(e),r=Qe(t);return o.date===r.date?o.time===r.time?I(e):`${I(e)} - ${pt(t)}`:`${I(e)} to ${I(t)}`}else return e?I(e):t?I(t):"Unknown"}var dt=(n,e)=>e.id;function ut(n,e){if(n&1&&(i(0,"section")(1,"h3"),c(2),a(),i(3,"p"),c(4),a(),i(5,"footer"),c(6),a()()),n&2){let t=e.$implicit;p(2),P(t.summary),p(2),P(t.description),p(2),P(t.displayDateTime)}}function gt(n){let e=He(n),r=e,{items:t}=r,o=b(r,["items"]);return h(m({},e),{items:t.map(l=>h(m({},l),{displayDateTime:We(l)}))})}var me=class n{data=z.required();queryParams=z({});queryParamsChange=M();reload=M();parseData=E(()=>this.data()?gt(this.data()):void 0);fb=s(X).nonNullable;formGroup=E(()=>this.fb.group({q:this.fb.control(this.queryParams().q??"",{updateOn:"submit"})}));onSubmit(){this.queryParamsChange.emit(this.formGroup().getRawValue())}clear(){this.queryParamsChange.emit({})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=d({type:n,selectors:[["app-gl-events-list"]],inputs:{data:[1,"data"],queryParams:[1,"queryParams"]},outputs:{queryParamsChange:"queryParamsChange",reload:"reload"},decls:12,vars:1,consts:[[3,"ngSubmit","formGroup"],["type","text","formControlName","q"],["type","button",3,"click"]],template:function(t,o){if(t&1&&(i(0,"form",0),u("ngSubmit",function(){return o.onSubmit()}),i(1,"label")(2,"b"),c(3,"Search"),a(),g(4,"input",1),a(),i(5,"button",2),u("click",function(){return o.clear()}),c(6,"X"),a()(),i(7,"div")(8,"button",2),u("click",function(){return o.reload.emit()}),c(9," Reload"),a()(),Ee(10,ut,7,3,"section",null,dt)),t&2){let r;v("formGroup",o.formGroup()),p(10),ke((r=o.parseData())==null?null:r.items)}},dependencies:[te,Y,N,L,W,J,Z],styles:["form[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1rem}label[_ngcontent-%COMP%]{font-size:1rem;font-weight:700}input[type=text][_ngcontent-%COMP%]{padding:.5rem;font-size:1rem;border:1px solid #ccc;border-radius:4px;width:200px}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:.5rem 1rem;font-size:1rem;cursor:pointer;border-radius:4px}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #007bff80}div[_ngcontent-%COMP%]{margin-bottom:1rem}section[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;padding:1rem;margin-bottom:1rem;background-color:#f9f9f9}h3[_ngcontent-%COMP%]{font-size:1.25rem;color:#333;margin-bottom:.5rem}p[_ngcontent-%COMP%]{font-size:1rem;color:#666;margin-bottom:.5rem}footer[_ngcontent-%COMP%]{font-size:.875rem;color:#999;text-align:right}"],changeDetection:0})};var pe=class n{service=s(w);activatedRoute=s(H);queryParams=ze(this.activatedRoute.queryParams,{initialValue:{}});dataResource=this.service.getAll(this.queryParams);router=s(C);onQueryParamsChange(e){this.router.navigate([],{queryParams:e,replaceUrl:!0})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=d({type:n,selectors:[["app-gl-events-list-page"]],decls:5,vars:2,consts:[["routerLink","create"],["type","button"],[3,"queryParamsChange","reload","data","queryParams"]],template:function(t,o){t&1&&(i(0,"div")(1,"a",0)(2,"button",1),c(3,"Create"),a()()(),i(4,"app-gl-events-list",2),u("queryParamsChange",function(l){return o.onQueryParamsChange(l)})("reload",function(){return o.dataResource.reload()}),a()),t&2&&(p(4),v("data",o.dataResource.value())("queryParams",o.queryParams()))},dependencies:[me,k],encapsulation:2,changeDetection:0})};var de=class n{constructor(){let e=s(H),t=s(C),o=e.snapshot.queryParams.code,r=e.snapshot.queryParams.state,l=s(f);(async()=>{if(o&&r){let S=await l.exchangeAuthorizationCode(o,r);t.navigateByUrl(S.intentedUrl)}})()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=d({type:n,selectors:[["app-gl-authorization-page"]],decls:2,vars:0,template:function(t,o){t&1&&(i(0,"p"),c(1,"gl-authorization-page works!"),a())},encapsulation:2,changeDetection:0})};function ft(n,e){n&1&&c(0," Loading... ")}function ht(n,e){if(n&1){let t=Ce();i(0,"button",1),u("click",function(){ve(t);let r=_();return ye(r.authorize())}),c(1,"Google.com"),a()}}function vt(n,e){if(n&1){let t=Ce();i(0,"div")(1,"button",1),u("click",function(){ve(t);let r=_();return ye(r.oauthService.clear())}),c(2,"Remove Token"),a()(),i(3,"nav")(4,"ul")(5,"li")(6,"a",2),c(7,"Event"),a()(),i(8,"li")(9,"a",3),c(10,"Contact"),a()()()(),g(11,"router-outlet")}}var yt=["profile","https://www.googleapis.com/auth/calendar.events","https://www.googleapis.com/auth/contacts"],ue=class n{oauthService=s(f);routerOutlet=s(C);async authorize(){let e=await this.oauthService.getAuthorizationCodeUrl(yt,{additionalParam:{prompt:"consent",access_type:"offline"},state:{intentedUrl:this.routerOutlet.url}});e&&(location.href=`${e}`)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=d({type:n,selectors:[["app-gl-page"]],decls:3,vars:1,consts:[["type","button"],["type","button",3,"click"],["routerLink","events","routerLinkActive","app-st-active"],["routerLink","/google/contacts","routerLinkActive","app-st-active"]],template:function(t,o){if(t&1&&T(0,ft,1,0)(1,ht,2,0,"button",0)(2,vt,12,0),t&2){let r;Pe((r=o.oauthService.ready())===void 0?0:r===!1?1:2)}},dependencies:[Ge,k,Ne],styles:["div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:.5rem 1rem;font-size:1rem;cursor:pointer;border-radius:4px;margin:.5rem}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #007bff80}nav[_ngcontent-%COMP%]{margin-top:2rem}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;display:flex;gap:1rem;justify-content:center}li[_ngcontent-%COMP%]{font-size:1rem}a[_ngcontent-%COMP%]{text-decoration:none;color:#007bff}a[_ngcontent-%COMP%]:hover{text-decoration:underline}a.app-st-active[_ngcontent-%COMP%]{font-weight:700;color:#0056b3}"],changeDetection:0})};var ge=class n{async get(e){let t=localStorage.getItem(e);return JSON.parse(t??"null")}async set(e,t){let o=JSON.stringify(t);return localStorage.setItem(e,o)}async remove(e){return localStorage.removeItem(e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=D({token:n,factory:n.\u0275fac,providedIn:"root"})};var Po=[{path:"",providers:[{provide:re,useClass:ge},Be({name:"google",clientId:"209689905225-dj1bo29m0c7or5926cv4bb1nu5aru0cv.apps.googleusercontent.com",clientSecret:"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",authorizationCodeUrl:"https://accounts.google.com/o/oauth2/v2/auth",accessTokenUrl:"https://oauth2.googleapis.com/token",redirectUri:we()?"http://localhost:4200/google/authorization":"https://camt-mmit.github.io/2024-01-954447-001-lab08-09-api-mrpachara/google/authorization"})],children:[{path:"authorization",component:de},{path:"",component:ue,children:[{path:"",redirectTo:"events",pathMatch:"full"},{path:"events",providers:[w],children:[{path:"",component:pe},{path:"create",component:ce}]},{path:"contacts",providers:[x],children:[{path:"",component:ae},{path:"create",component:ie}]}]}]}];export{Po as default};
